<div style="
  background: #ffffff;
  border-radius: 16px;
  padding: 25px 35px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  border: 1px solid #e0e0e0;
  margin-top: 40px;
">
  <h2 style="
    font-size: 1.8rem;
    font-weight: 700;
    color: #1a5748;
    border-bottom: 2px solid #1a5748;
    padding-bottom: 8px;
  ">
    {{#if planta.id}}Editar Planta{{else}}Cadastro de Planta{{/if}}
  </h2>

  {{#if error}}
    <div class="alert alert-danger">{{error}}</div>
  {{/if}}

  <form method="post" action="{{#if planta.id}}/planta/editar/{{planta.id}}{{else}}/planta/novo/salvar{{/if}}" style="
    display: flex;
    flex-direction: column;
    gap: 10px;
    flex-grow: 1;
  ">
    
    <label 
      for="nome" 
      style="
        font-weight: 600; 
        color: #133E34;
        ">Nome</label>
    <input 
      type="text" 
      name="nome" 
      id="nome" 
      value="{{planta.nome}}" 
      required
      style="
        flex: 1;          
        border-radius: 10px;
        border: 1px solid #E5E5E5;
        padding: 10px 14px;
      "
    >
    <label 
      for="necessidade_hidrica" 
      style="
        font-weight: 600; 
        color: #133E34;
      ">Necessidade Hídrica</label>
    <select 
      name="necessidade_hidrica_id" 
      id="necessidade_hidrica"
      style="
        width: 100%;
        border-radius: 10px; 
        border: 1px solid #E5E5E5; 
        padding: 10px;
      ">
      <option value="">Selecione</option>
      {{#each necessidades}}
        <option value="{{this.id}}" {{#ifEquals this.id ../planta.necessidade_hidrica?.id}}selected{{/ifEquals}}>
            {{this.nome}} ({{this.qtdLitro}} L)
        </option>
      {{/each}}
    </select>
<!-- Combobox Sensor -->
<label 
  for="sensor" 
  style="
    font-weight: 600; 
    color: #133E34;
  "
>Sensor</label>

<select 
  name="sensor_id" 
  id="sensor" 
  required
  style="
    width: 100%;
    border-radius: 10px; 
    border: 1px solid #E5E5E5; 
    padding: 10px;
  "
>
  <option value="">Selecione</option>
  {{#each sensores}}
    <option value="{{this.id}}" {{#ifEquals this.id ../planta.sensor?.id}}selected{{/ifEquals}}>
      {{this.nome}} ({{this.tipoSensor.nome}})
    </option>
  {{/each}}
</select>

    <label 
      for="rotina" 
      style="
        font-weight: 600; 
        color: #133E34;
      ">Rotina de Irrigação</label>
    <select 
        name="rotina_id" 
        id="rotina" 
        style="
          width: 100%;
          border-radius: 10px; 
          border: 1px solid #E5E5E5; 
          padding: 10px;"
    >
      <option value="">Selecione uma rotina</option>
      {{#each rotinas}}
        <option value="{{this.id}}" {{ifEquals this.id ../planta.rotinaId}}>{{this.nome}}</option>
      {{/each}}
    </select>

    <div
      style="
        display: flex;
        justify-content: center; 
        gap: 20px;
        margin-top: 30px;
      ">
      <a href="/planta/listagem"
        style="
        background-color: #CDE3DC;
        border: none;
        color: #133E34;
        font-weight: 500;
        border-radius: 10px;
        padding: 10px 18px;
        text-decoration: none;"
      >
        <i class="fa-solid fa-circle-xmark"></i>                   
        <span>Cancelar</span>
      </a>
    <button 
      type="submit" 
      style="
        background-color: #133E34;
        border: none;
        color: white;
        font-weight: 500;
        border-radius: 10px;
        padding: 10px 18px;
    ">
      {{#if planta.id}}Atualizar{{else}}Cadastrar{{/if}}     
    </button>
    </div>

  </form>
</div>
