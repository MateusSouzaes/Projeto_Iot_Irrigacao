<div class="container" style="
  background: #ffffff;
  border-radius: 16px;
  padding: 25px 35px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  border: 1px solid #e0e0e0;
  margin-top: 40px;
">
  <h2 style="
    font-size: 1.8rem;
    font-weight: 700;
    color: #1a5748;
    border-bottom: 2px solid #1a5748;
    padding-bottom: 8px;
  ">Plantas</h2>

  <div style="
    padding-top: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
  ">
    <form method="get" action="/planta/listagem" style="
      display: flex;
      align-items: center;
      gap: 10px;
      flex-grow: 1;
      max-width: 500px;
    ">
      <input
        type="search"
        name="nome"
        placeholder="Buscar planta"
        aria-label="Pesquisar planta"
        style="
          flex: 1;
          border-radius: 10px;
          border: 1px solid #E5E5E5;
          padding: 10px 14px;
        "
        value="{{search}}"
      >
      <button class="btn btn-primary" type="submit" style="
        background-color: #133E34;
        border: none;
        color: #fff;
        border-radius: 10px;
        padding: 10px 18px;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
      ">
        <i class="fa-solid fa-magnifying-glass"></i>
        Buscar
      </button>
    </form>

    <a href="/planta/novo" class="btn btn-success" style="
      background-color: #3CB371;
      border: none;
      color: #fff;
      border-radius: 10px;
      font-weight: 500;
      padding: 8px 18px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      text-decoration: none;
    ">
      Novo
      <i class="fa-solid fa-square-plus" style="color: #DCE8E3;"></i>
    </a>
  </div>

  <table class="table table-striped" style="
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
      overflow: hidden;
      margin-top: 10px;
  ">
    <thead style="
      background-color: #1A5748;
      color: #DCE8E3;
      text-align: center;
    ">
      <tr>
        <th style="padding: 12px;">Nome</th>
        <th style="padding: 12px;">Necessidade Hídrica</th>
        <th style="padding: 12px;">Sensor</th>
        <th style="padding: 12px;">Rotina</th>
        <th style="padding: 12px;">Ações</th>
      </tr>
    </thead>
    <tbody>
      {{#if plantas.length}}
        {{#each plantas}}
        <tr style="text-align: center;">
          <td style="padding: 10px;">{{nome}}</td>

          <!-- Necessidade Hídrica -->
          <td style="padding: 10px;">
            {{#if necessidade_hidrica}}
              {{necessidade_hidrica.nome}} ({{necessidade_hidrica.qtdLitro}} L)
            {{else}}
              Não definida
            {{/if}}
          </td>

          <!-- Sensor -->
          <td style="padding: 10px;">
            {{#if sensor}}
              {{sensor.nome}} ({{sensor.tipoSensor.nome}})
            {{else}}
              Não definido
            {{/if}}
          </td>

          <!-- Rotina -->
          <td style="padding: 10px;">
            {{#if rotina}}
              {{rotina.nome}}
            {{else}}
              Não definida
            {{/if}}
          </td>

          <!-- Ações -->
          <td>
            <div style="display: flex; justify-content: center; gap: 8px;">
              <a href="/planta/editar/{{id}}" style="
                background-color: #F5B82E;
                color: #fff;
                border: none;
                font-weight: 500;
                border-radius: 6px;
                padding: 4px 10px;
              ">
                <i class="fa-solid fa-pencil" style="color: #DCE8E3;"></i>
              </a>

              <a href="/planta/excluir/{{id}}" 
                onclick="return confirm('Tem certeza que deseja excluir esta planta?')" 
                style="
                  background-color: #E74C3C;
                  color: #fff;
                  border: none;
                  font-weight: 500;
                  border-radius: 6px;
                  padding: 4px 10px;
                ">
                <i class="fa-solid fa-trash-can" style="color: #DCE8E3;"></i>
              </a>
            </div>
          </td>
        </tr>
        {{/each}}
      {{else}}
        <tr>
          <td colspan="5" class="text-center text-muted" style="
            padding: 16px;
            color: #777;
            font-style: italic;
          ">
            Nenhuma planta cadastrada!
          </td>
        </tr>
      {{/if}}
    </tbody>
  </table>
</div>
